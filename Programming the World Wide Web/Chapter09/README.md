# 《Web程序设计（第8版）》第9章练习题

## 知识点复习题

### 01 Web服务器怎样判断一个被请求的文档是否包含PHP代码？

服务器通过文档文件的扩展名判断被请求文档是否包含PHP脚本，如果扩展名为.php、.phtml就说明它嵌入了PHP脚本。

### 02 PHP处理器的两种工作模式是什么？

复制模式和解释模式，它用PHP文档文件作为输入，产生的HTML文档文件作为输出。
+ 复制模式
当PHP处理器在输入文件中遇到标记代码（可能包含嵌入的客户端脚本）时，只是简单地将这段代码复制到输出文件。
+ 解释模式
当在输入文件中遇到PHP脚本时，PHP处理器就解释该脚本，并把该脚本的所有输出发送到输出文件中。

### 03 试描述include结构的语法和语义。

语法为`include("filename.inc");`。参数为.inc后缀的文件名字符串，将储存在该文件中的PHP脚本引入（复制）到一个文档中，当include保留字出现在PHP标签中，PHP处理器从解释模式转换为复制模式。

### 04 PHP有哪些名称区分大小写？哪些不区分？

PHP所有的变量都以`$`开头，其后由字母数字下划线组成，且不能有数字开头。其中变量名和保留字区分大小写，函数名不区分大小写。

### 05 PHP有哪4种标量类型？

整型、双精度型、字符串型和布尔型。

### 06 怎样检测一个变量是否被绑定？

使用IsSet函数来测试变量是否被绑定，函数使用变量名作为参数，并返回一个布尔值，被绑定的变量返回TRUE，未绑定的变量返回FALSE。

### 07 怎样设置使得PHP处理器能够报告使用了未绑定的变量？

调用error_reporting函数并传递参数15来报告未绑定的变量被引用的情况。

### 08 PHP中存储一个字符需要占用多少字节？

PHP存储一个字符需要占用1字节。

### 09 单引号和双引号引用的字面量字符串之间有什么不同？

+ 单引号
单引号引用的字符串字面量中，转义字符没有特殊含义，并且内嵌变量在输出时不会用变量的值来代替（插值）。
+ 双引号
双引号引用的字符串字面量中，转义字符会被识别，并且会用变量的值替换内嵌的变量。可以在变量名`$`前加`\`使其不被替换。还可以包含内嵌的换行符（键入回车键），还会用空字符串替换值为空的变量。

### 10 如果一个整数表达式出现在布尔上下文环境中，它的布尔值怎样确定？

若该整数表达式求值为0，则布尔值为FALSE；求值为非0，则布尔值为TRUE。

### 11 当一个整数类型的算数操作产生的结果值不是一个整数时怎么处理？

若结果是布尔类型，TRUE求值为1，FALSE求值为0；若结果是双精度型，则截断为整型。

### 12 如果一个变量存储了一个字符串，如何引用该字符串特定位置上的字符？

可以使用类似于访问数组元素的方法，第一个字符的下标/索引为0，将下标放在变量名后的`{}`中即可访问对应位置上的字符。

### 13 chop函数的功能是什么？

chop的参数为一个字符串，功能是将字符串参数结尾处的所有空白字符全部删除。

### 14 什么是强制转换？

强制转换（coercion）也叫隐式转换。表达式的上下文决定了所期望的类型，PHP处理器根据表达式上下文引起表达式值类型的强制转换。出现在字符串上下文中的数值类型会被强制转换成字符串类型；出现在数值上下文中的字符串会被转换成数值类型，如果字符串中含有一个句点、e或E，则转换成双精度型，否则转换成整型，如果字符串中的第一个字符不是一个正负标志或数字，则转换失败，并返回0。字符串中数字后面的非数字字符会被丢弃；从双精度转换成整数，不进行四舍五入，直接截断保留整数部分。

### 15 把一个变量的值显式地转换成其他类型有哪三种途径？

+ 在变量名前的`()`中指定待转换成的类型，例如`(int)$variable;`。
+ 调用intval、doubleval或strval函数，例如`intval($variable);`。
+ 调用settype函数，它有两个参数：变量名和指定类型名的字符串。例如：`settype($variable, "integer");`。

### 16 如何确定变量的类型？

+ 调用gettype函数，将变量名作为参数，返回值为字符串值，该值就是变量类型名字符串，也可能返回"unknown"。
+ 调用类型判断函数，例如is_int、is_integer、is_long、is_float、is_double、is_real、is_bool、is_string、is_array、is_object等，这些参数以变量名作为参数并返回一个布尔值。

### 17 如果把一个字符串与一个数值相比较，结果会怎样？

+ 该字符串可以转换成数值时，便把字符串转换成数值后再比较。
+ 该字符串不能转换成数值时，便把数值转换成字符串后再比较。

### 18 使用独立的结束保留字（如endwhile）有什么优点？



### 19 在PHP中，有哪两种创建数组的方法？

### 20 若创建了一个数组却没有指定它的键，默认情况下会使用什么来作为该数组的键？

### 21 一个数组中的所有元素值必须是同一种类型吗？

### 22 一个数组中的所有元素键必须是同一种类型吗？

### 23 array_keys和array_values函数的具体功能分别是什么？

### 24 in_array函数的具体功能是什么？

### 25 解释implode和explode函数的作用。

### 26 描述next、reset以及prev函数的作用。

### 27 foreach语句的两种形式的语法和语义各是什么？

### 28 描述一下对一个既含有字符串值又含有数值的数组使用sort函数的结果。

### 29 sort和asort函数有什么区别？

### 30 在一个脚本中对同一个函数进行了多次定义，会出现什么结果？

### 31 函数名区分大小写吗？

### 32 如果一个函数不是因为执行了return语句才结束，它会返回什么值？

### 33 有哪两种方法可以指定一个参数是通过引用传递的？

### 34 函数如何访问一个在该函数尾部使用的变量？

### 35 如何在函数中定义一个变量，使得该变量的生命周期超过该函数第一次执行的时间？

### 36 PHP脚本如何访问一个表单元素的值？

### 37 如何在PHP脚本中创建一个cookie?

### 38 PHP脚本如何判断一个特定的cookie是否存在？

### 39 如何在会话期间保存变量？

## 编程练习题

### 01 编写一个函数，参数为一个字符串数组，返回值为参数数组中唯一字符串的列表。

### 02 编写一个函数，参数为一个数值数组，返回值为参数数组中元素的平均值和中值。

### 03 编写一个函数，参数为一个字符串数组，返回值为参数数组中出现频率最高的三个字符串的列表。

### 04 编写一个函数，参数为一个数值数组（按值传递）和两个数组（按引用传递），无返回值，但是实现把给定的数值数组中所有值大于0的元素放在第一个按引用传递的参数中，小于0的元素放在第二个按引用传递的参数中。

### 05 编写一个函数，参数为一个由空格分隔的数值字符串，返回值为字符串中第一个出现的四位数值，如果没有出现这样的数值，则返回false。

### 06 编写一个函数，参数为一个包含多个单词的字符串，其中单词以左边为空格和右边为空格、逗号、句点或问号来界定。返回值为字符串中三个最常用的超过三个字母的单词。

### 07 修改以下文档，将输出的表格放在一个HTML表格中。

### 08 编写一个HTML文档，文档包含一个调用PHP文档的锚标签。并写出被调用的PHP脚本文档，其功能是从一个包含五条不同问候信息的列表中随机抽取一条返回给调用者。问候信息在脚本中必须以常量字符串的形式存储。0~4的一个随机数可以通过调用下面的代码来得到：

```php
# Set the seed for mtrand with the number of microseconds
# since the last full second of the clock
mt_srand((double)microtime() * 1000000);
$number = mtrand(0, 4); # Computes a random integer 0-4
```

### 09 编写一段创建表单的HTML代码，表单包含以下内容；

+ 一个用于输入用户名的文本小组件。
+ 4个复选框，各项内容为：
  + 4个25瓦的灯泡，金额为$2.39
  + 8个25瓦的灯泡，金额为$4.29
  + 4个25瓦的长寿命灯泡，金额为$3.95
  + 8个25瓦的长寿命灯泡，金额为$7.49
+ 由三个单选按钮组成的一个按钮集，标签为：
  + Visa
  + MasterCard
  + Discover

### 10 编写一个PHP脚本，计算练习09中订购的灯泡在加了6.2%的销售税之后的总金额。

### 11 编写一段创建表单的HTML代码，该表单用来收集喜爱的流行歌曲，包括歌曲的名称、作曲者、表演者或演出团队。文档必须调用两个PHP脚本，一个在提交表单时使用，另一个用于请求调查结果的当前列表。

### 12 编写一个PHP脚本，用来收集练习11中的表单数据，并把它写入到一个文件中。

### 13 编写一个PHP脚本，用来生成练习11的当前调查结果。

### 14 编写一段HTML代码，用来提供一个收集姓名和电话号码的表单。电话号码的格式必须是ddd-ddd-dddd。编写一个PHP脚本，用来检查被提交的电话号码的格式是否与要求的格式一致，并返回一条信息以指出号码是否正确。